(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){e.exports={mainHeader:"templates_mainHeader__2zH-2",mainContainer:"templates_mainContainer__FtqFf",main:"templates_main__H45c6","header-menu":"templates_header-menu__Z-c4-",brand:"templates_brand__w-NkY",sn:"templates_sn__2c8ed",graphWrapper:"templates_graphWrapper__8tZn9",graph:"templates_graph__2aZBe"}},28:function(e,t,n){e.exports={title:"description_title__xMjTS",link:"description_link__1xdCv",subtext:"description_subtext__8ZXbn",a:"description_a__3isYb"}},32:function(e,t,n){e.exports={label:"headerlabel_label__2HUPV",white:"headerlabel_white__u4SMq"}},44:function(e,t,n){e.exports={selected:"count_selected__2kS8l"}},45:function(e,t,n){e.exports={upvote:"upvote_upvote__2Mhy-"}},46:function(e,t,n){e.exports={img:"logo_img__256Cp"}},47:function(e,t,n){e.exports={linkButton:"header_linkButton__3h29t"}},54:function(e,t,n){e.exports=n(64)},59:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(38),s=n.n(o),i=(n(59),n(20)),l=n(65),u=n(16),c=n.n(u),m=n(39),d=n.n(m),h=function(e,t){var n=Object(a.useState)(e.get()),r=Object(i.a)(n,2),o=r[0],s=r[1],u=Object(a.useCallback)((function(t){return e.set(t)}),[e]),m=Object(a.useCallback)((function(){var n=e.getStream(),a=null;return t&&(a=n.pipe(Object(l.a)((function(e,n){return!(Array.isArray(t)?t:[t]).find((function(t){return!d()(c()(e,t,null),c()(n,t,null))}))})))),a||n}),[e,t]);return Object(a.useEffect)((function(){var e=m().subscribe((function(e){return s(e)}));return function(){return e.unsubscribe()}}),[m,e]),[o,u]},p=n(31),f=n(25),b=n(26),v=n(66),g=n(52),y=n(67),_=n(27),E=n.n(_),w=n(10),k=n.n(w),O=n(40),S=n.n(O),x=n(15),N=n.n(x),j=n(41),C=n.n(j),L=n(19),q=n.n(L),V=n(42),M=n.n(V),A=n(43),I=n.n(A),R={};function H(e,t){return I()(e,(function(n,a,r){if(e.hasOwnProperty(r)){var o=t?"".concat(t,"[").concat(r,"]"):r;n.push("object"===typeof a?H(a,o):"".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(a)))}return n}),[]).join("&")}var T=function(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e,s=new Promise((function(e,a){t=e,n=a})),i=r;R.pre&&(i=R.pre(e,i)),i.isMedia?i.headers=N()({},i.headers):i.headers=N()({},i.headers,{"content-type":"application/json;charset=utf-8",accept:"application/json"}),i.method=i.method||"GET",i.query&&(o="".concat(e,"?").concat(H(i.query))),"GET"!==i.method.toUpperCase()&&i.body&&!i.isMedia&&(i.body=JSON.stringify(i.body)),i.headers&&(a=new Headers(i.headers));var l,u,c=new Request(o,{method:i.method,body:i.body,headers:a,credentials:i.credentials,mode:i.mode}),m=[204,500];return window.fetch(c).then((function(e){if(u=!e.ok,l=e.status,m.includes(l)){if(204===l)return{body:"no content"};n({status:l,body:{message:"something went worng"}})}else try{var t=e.headers.get("Content-Type");return t.includes("json")?e.json():t.includes("application/x-download")?e.blob():{body:"no content"}}catch(a){return{body:"no content"}}}),(function(e){n({status:null,body:{message:"Request failed, please try again"}})})).then((function(e){if(R.post&&!R.post(l,e))return;u?n({status:l,body:e}):t(e)})),s},D=function(){function e(t,n){var a=this;Object(f.a)(this,e),this.options=n||{},this.inputStream=t,this.outputStream=new v.a,this.lastValue=null,this.outputStream.subscribe((function(e){a.lastValue=e}))}return Object(b.a)(e,[{key:"reload",value:function(){this.fetch(this.lastInput)}},{key:"trigger",value:function(){var e=this;this.triggerred||(this.triggerred=!0,this.inputStream.subscribe((function(t){e.lastInput=t,e.fetch(t)})))}},{key:"emit",value:function(e){this.outputStream.next(e)}},{key:"getValue",value:function(){return this.lastValue}},{key:"getStream",value:function(){return this.outputStream.pipe(Object(y.a)((function(e){return!!e})))}},{key:"fetch",value:function(e){var t=this;if(e.error)this.emit({status:"error",message:e.error});else{var n=this.getValue();this.outputStream.next(N()({},n,{status:"loading",currentObserver:e.currentObserver})),n=this.getValue();var a=e.url,r={method:e.method,headers:e.headers,query:e.query,body:e.body,isMedia:e.isMedia,token:e.token,credentials:e.credentials,mode:e.mode};if(!e.mock){var o=T(a,r);return o.then((function(n){var a={data:n,status:"loaded",currentObserver:e.currentObserver};t.outputStream.next(a)}),(function(n){t.outputStream.next({status:"error",statusCode:n.status,body:n.body,currentObserver:e.currentObserver})})),o}setTimeout((function(){t.outputStream.next({data:e.mock,status:"loaded",currentObserver:e.currentObserver})}))}}}]),e}(),F=new(function(){function e(t,n,a,r){Object(f.a)(this,e);var o={};this.observers=n||[],k()(r)&&(o=r.call(this)),this.initialValue=E()({},t,o),this.stream=new v.a(t),this.requestStream=new g.a,this.registerObservables(this.observers),this.registerFetchObserver(),this.interceptor=a}return Object(b.a)(e,[{key:"registerFetchObserver",value:function(){var e=this;this.fetchStream=new D(this.requestStream),this.fetchStream.trigger(),this.fetchStream.getStream().subscribe((function(t){return e.processResponse(t)}))}},{key:"processResponse",value:function(e){var t=this,n=e.currentObserver,a=n.outputField;delete e.currentObserver;var r=n.statusLabel||"loading",o=(this.interceptor||{}).responseInterceptor,s=e,i=s.status;if("loading"===i)setTimeout((function(){t.set(Object(p.a)({},r,"loading"))}));else if("loaded"===i){k()(o)&&(s=this.interceptor.responseInterceptor(s));var l=null;l=k()(n.parse)?n.parse(s,n.config):s.data,setTimeout((function(){t.setResponse(a,r,l,"loaded",n)}))}else if("error"===i){if(k()(o)&&(s=this.interceptor.responseInterceptor(s)),k()(n.error)){var u=n.error(s,n.config);return this.setResponse(a,r,u,"error",n),!1}setTimeout((function(){t.setResponse(a,r,s.body,"error",n)}))}return!1}},{key:"setResponse",value:function(e,t,n,a,r){var o=this.get(),s=o[r.configkey];k()(c()(s,["successCallback"],null))&&"loaded"===a&&s.successCallback(n),k()(c()(s,["errorCallback"],null))&&"error"===a&&s.errorCallback(n),(o=this.get())[e]=n,o[t]=a,delete o[r.configkey],this.hardSet(o)}},{key:"getObservable",value:function(e){return C()(this.observers,(function(t){return t.label===e}))}},{key:"registerObservables",value:function(e){var t=this;return e.map((function(e){return t.stream.pipe(Object(l.a)((function(t,n){return t[e.label]===n[e.label]})),Object(y.a)((function(t){return null!==t[e.label]&&void 0!==t[e.label]}))).subscribe((function(){var n=t.get();if(e.serverDataLabel){var a=c()(n,e.serverDataLabel);if(delete e.serverDataLabel,!q()(a))return}var r=M()(e),o=r.request,s=n[e.label];if(k()(e.formatter)){var l=n[s],u=e.formatter(n,r.request,l);if(Array.isArray(u)){var m=Object(i.a)(u,3),d=m[0],h=m[1],p=m[2];h&&(r.outputField=h),p&&(r.statusLabel=p),r.config=l||null,o=d}else o=u,r.config=l||null}o&&(r.configkey=s,o.currentObserver=r,t.requestStream.next(o))}))}))}},{key:"load",value:function(e,t){var n=S()("storeload"),a=Object(p.a)({},e,n);t&&(a[n]=t),this.set(a)}},{key:"resetData",value:function(){return this.stream.next(E()({},this.initialValue))}},{key:"set",value:function(e){var t=this.get(),n=N()({},t,e);return this.stream.next(n)}},{key:"hardSet",value:function(e){return this.stream.next(e)}},{key:"get",value:function(){return E()({},this.stream.getValue())}},{key:"getStream",value:function(){return this.stream.pipe(Object(y.a)((function(e){return!!e})))}}]),e}())({},[{label:"LoadNewsList",request:{method:"get"},formatter:function(e,t){return t.url="".concat(window.location.protocol+"//"+window.location.host,"/api/v1/search"),t.query={tags:"story",page:e.pageNo||0},t},outputField:"newsList",statusLabel:"newsListStatus",parse:function(e){return e.data||[]}}],null,(function(){var e=function(){if("undefined"==typeof window){var e={};return q()(e)?{}:JSON.parse(unescape(e))}return window.INITIAL_DATA}(),t={};return q()(e)||(t={newsList:e.newsList,pageNo:e.pageNo}),t})),U=n(32),B=n.n(U),P={white:"white"},W=function(e){var t=e.theme,n=e.children,a=P[t]||"white";return r.a.createElement("label",{className:"".concat(B.a[a]," ").concat(B.a.label)},n)};W.defaultProps={theme:"white"};var J=W,Z=n(44),z=n.n(Z),G=function(e){var t=e.isHighlighted,n=e.count;return r.a.createElement("span",{className:t?z.a.selected:""},n)};G.defaultProps={isHighlighted:!1,count:!1};var Y=G,X=n(45),$=n.n(X),K=function(e){var t=e.isUpVoted,n=e.onSelect;return t?null:r.a.createElement("span",{className:$.a.upvote,onClick:n},"\u25b2")};K.defaultProps={isUpVoted:!1,onSelect:function(){}};var Q=K,ee=n(28),te=n.n(ee),ne=function(e){var t=e.title,n=e.author,a=e.created_at,o=e.url,s=function(e){return e?new URL(e).hostname:""}(o),i=function(e){var t=Math.floor((Date.now()-new Date(e))/1e3);if(t<60)return"just now";var n=t<3600&&[Math.floor(t/60),"minute"]||t<86400&&[Math.floor(t/3600),"hour"]||t<2592e3&&[Math.floor(t/86400),"day"]||t<31536e3&&[Math.floor(t/2592e3),"month"]||[Math.floor(t/31536e3),"year"];return n[0]+" "+n[1]+(1===n[0]?"":"s")+" ago"}(a);return r.a.createElement("div",null,r.a.createElement("div",{className:te.a.title},r.a.createElement("p",null,t," "),r.a.createElement("span",{className:te.a.link},o&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"a",href:o},s),"\xa0  by ",r.a.createElement("label",null,n)),r.a.createElement("span",{className:te.a.subtext},r.a.createElement("label",null,"\xa0",i))))},ae=function(e){var t=e.item;return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement(Y,{count:t.num_comments})),r.a.createElement("td",null,r.a.createElement(Y,{count:t.points})),r.a.createElement("td",null,r.a.createElement(Q,null)),r.a.createElement("td",null,r.a.createElement(ne,t)))},re=function(e){var t=e.pageList,n=void 0===t?[]:t;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(J,null,"Comments")),r.a.createElement("th",null,r.a.createElement(J,null,"Vote Count")),r.a.createElement("th",null,r.a.createElement(J,null,"Up Vote")),r.a.createElement("th",null,r.a.createElement(J,null,"News Details")))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement(ae,{item:e})}))))},oe=n(24),se=n.n(oe),ie=n(46),le=n.n(ie),ue=function(){return r.a.createElement("img",{src:"/logo.gif",alt:"Hacker News Logo",className:le.a.img})},ce=n(47),me=n.n(ce),de=function(e){return r.a.createElement("header",{className:e},r.a.createElement("button",{className:me.a.linkButton},r.a.createElement(ue,null)))},he=n(30),pe=n.n(he),fe=n(48),be=n.n(fe),ve=n(49),ge=n.n(ve),ye=function(e){var t=function(e){var t=[],n=[];return be()(e,(function(e){t.push(e.id),n.push(e.num_comments)})),{chart:{type:"line",backgroundColor:"#eee"},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},yAxis:{title:{text:"Votes"}},xAxis:{categores:t},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:[{data:n}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}(e.data);return r.a.createElement(ge.a,{highcharts:pe.a,options:t})};var _e=function(e){var t=e.match,n=h(F),o=Object(i.a)(n,1)[0],s=o.newsList,l=void 0===s?{}:s;return o.pageNo,Object(a.useEffect)((function(){F.set({pageNo:t.params.pageNo||1}),F.load("LoadNewsList")}),[t.params.pageNo]),r.a.createElement(a.Fragment,null,r.a.createElement(de,{styleClass:se.a.mainHeader}),r.a.createElement("div",{className:se.a.mainContainer},r.a.createElement(re,{pageList:l.hits})),r.a.createElement("div",{className:se.a.graphWrapper},r.a.createElement("div",{className:se.a.graph},r.a.createElement(ye,{data:l.hits||[]}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=n(50),we=n(1);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee.a,null,r.a.createElement(we.a,{path:"/:pageNo?",component:_e}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.24f2cab2.chunk.js.map